<nav>
    <div class="nav-container">
        <div class="nav-left">
            <a href="{{ url_for('main.home') }}"><img src="/static/images/Logo.png" alt="Logo"></a>
        </div>

        <!-- Mobile Hamburger Menu -->
        <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <ul class="nav-center {% if not current_user.is_authenticated %}nav-center-minimal{% endif %}">
            <li>
                <a href="{{ url_for('main.home') }}">
                    {% if current_user.is_authenticated %}Dashboard{% else %}Home{% endif %}
                </a>
            </li>

            <li><a href="{{ url_for('main.live') }}">Live Leaderboard</a></li>

            {% if current_user.is_authenticated %}
            <li class="dropdown">
                <a href="#" class="dropbtn">Results</a>
                <div class="dropdown-content">
                    <a href="{{ url_for('main.results') }}">All</a>
                    <a href="{{ url_for('main.topnz') }}">Top Scores</a>
                </div>
            </li>

            <li><a href="{{ url_for('main.calendar_view') }}">Calendar</a></li>
            {% endif %}

            {% if current_user.is_judge_or_admin %}
            <li><a href="{{ url_for('main.scoring') }}">Score Management</a></li>
            {% endif %}

            {% if current_user.is_admin %}
            <li class="dropdown">
                <a href="#" class="dropbtn">Admin</a>
                <div class="dropdown-content">
                    <a href="{{ url_for('main.manage_users') }}">User Management</a>
                    <a href="{{ url_for('main.competitions') }}">Manage Competitions</a>
                    <a href="{{ url_for('main.entries') }}">Manage Entries</a>
                </div><!-- dropdown-content -->
            </li><!-- dropdown -->
            {% endif %}
        </ul><!-- nav-center -->

        <ul class="nav-right">
            {% if not current_user.is_authenticated %}
            <li><a href="{{ url_for('main.login') }}">Login</a></li>
            <li class="signup-li"><a href="{{ url_for('main.register') }}" class="signup-btn">Sign Up</a></li>
            {% else %}
            <li class="dropdown user-dropdown">
                <a href="#" class="dropbtn user-menu">
                    <span class="user-icon">ðŸ‘¤</span>
                    {{ current_user.first_name }}
                </a>
                <div class="dropdown-content">
                    <a href="{{ url_for('main.dashboard') }}">Dashboard</a>
                    <a href="{{ url_for('main.logout') }}">Logout</a>
                </div>
            </li>
            {% endif %}
        </ul><!-- nav-right -->
    </div><!-- nav-container -->

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <ul>
            <li>
                <a href="{{ url_for('main.home') }}">
                    {% if current_user.is_authenticated %}Dashboard{% else %}Home{% endif %}
                </a>
            </li>
            <li><a href="{{ url_for('main.live') }}">Live Leaderboard</a></li>
            
            {% if current_user.is_authenticated %}
            <li><a href="{{ url_for('main.results') }}">All Results</a></li>
            <li><a href="{{ url_for('main.topnz') }}">Top Scores</a></li>
            <li><a href="{{ url_for('main.calendar_view') }}">Calendar</a></li>
            {% endif %}

            {% if current_user.is_judge_or_admin %}
            <li><a href="{{ url_for('main.scoring') }}">Score Management</a></li>
            {% endif %}

            {% if current_user.is_admin %}
            <li><a href="{{ url_for('main.manage_users') }}">User Management</a></li>
            <li><a href="{{ url_for('main.competitions') }}">Manage Competitions</a></li>
            <li><a href="{{ url_for('main.entries') }}">Manage Entries</a></li>
            {% endif %}

            {% if not current_user.is_authenticated %}
            <li><a href="{{ url_for('main.login') }}">Login</a></li>
            <li><a href="{{ url_for('main.register') }}">Sign Up</a></li>
            {% else %}
            <li><a href="{{ url_for('main.dashboard') }}">Dashboard</a></li>
            <li><a href="{{ url_for('main.logout') }}">Logout</a></li>
            {% endif %}
        </ul>
    </div>
</nav>