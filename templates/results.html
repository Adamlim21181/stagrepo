{% extends 'layout.html' %}
{% block content %}
<h1>RESULTS</h1>


<div class="content">

    <input type="text" id="search" onkeyup="myFunction()" placeholder="Search results" />

    <label for="rows_per_page">Rows per page:</label>
    <select id="rows_per_page" onchange="changeRowsPerPage()">
        <option value="5" {% if per_page==5 %} selected {% endif %}>5</option>
        <option value="10" {% if per_page==10 %} selected {% endif %}>10</option>
        <option value="20" {% if per_page==20 %} selected {% endif %}>20</option>
        <option value="50" {% if per_page==50 %} selected {% endif %}>50</option>
        <option value="100" {% if per_page==100 %} selected {% endif %}>100</option>
        <option value="1000" {% if per_page==1000 %} selected {% endif %}>1000</option>
    </select>

    <table id="resultsTable">
        <tr>
            <th>ID</th>
            <th>Entries_id</th>
            <th>Apparatus</th>
            <th>Execution</th>
            <th>Difficulty</th>
            <th>Penalty</th>
            <th>Total</th>
        </tr>

        {% for row in results.items %}

        <tr>
            <td>{{ row.id}}</td>
            <td>{{ row.entries_id }}</td>
            <td>{{ row.apparatus_name.name }}</td>
            <td>{{ row.e_score }}</td>
            <td>{{ row.d_score }}</td>
            <td>{{ row.penalty }}</td>
            <td>{{ row.total }}</td>
        </tr>
        {% endfor %}
    </table>

    <div class="pagination">

        {% if results.has_prev %}
        <a href="{{ url_for('results', page=results.prev_num, per_page=per_page) }}">Previous</a>
        {% endif %}
        {% for num in results.iter_pages() %}
        {% if num %}
        <a href="{{ url_for('results', page=num, per_page=per_page) }}">{{ num }}</a>
        {% else %}
        ...
        {% endif %}
        {% endfor %}
        {% if results.has_next %}
        <a href="{{url_for('results', page=results.next_num, per_page=per_page) }}">Next</a>
        {% endif %}

    </div><!--content-->
    {% endblock %}